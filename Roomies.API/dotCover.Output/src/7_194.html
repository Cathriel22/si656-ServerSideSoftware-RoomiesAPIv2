<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\usuar\Downloads\RoomiesFinal\Roomies.API\Roomies.API.Test\ProfilePaymentMethodServiceTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using FluentAssertions;
using Moq;
using NUnit.Framework;
using Roomies.API.Domain.Models;
using Roomies.API.Domain.Repositories;
using Roomies.API.Services;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Roomies.API.Test
{
    public class ProfilePaymentMethodServiceTest
    {
        [SetUp]
        public void Setup()
        {
        }

        [Test]
        public async Task GetAllAsyncWhenNoProfilePaymentMethodReturnsEmptyCollection()
        {
            // Arrange

            var mockProfilePaymentMethodRepository = GetDefaultIProfilePaymentMethodRepositoryInstance();
            var mockUnitOfWork = GetDefaultIUnitOfWorkInstance();

            mockProfilePaymentMethodRepository.Setup(r =&gt; r.ListAsync()).ReturnsAsync(new List&lt;ProfilePaymentMethod&gt;());

            var service = new ProfilePaymentMethodService(mockProfilePaymentMethodRepository.Object, mockUnitOfWork.Object);

            // Act

            List&lt;ProfilePaymentMethod&gt; result = (List&lt;ProfilePaymentMethod&gt;)await service.ListAsync();
            var profilePaymentMethodCount = result.Count;

            // Assert

            profilePaymentMethodCount.Should().Equals(0);
        }

        [Test]
        public async Task GetAllByPaymentMethodIdAsyncWhenNoProfilePaymentMethodReturnsEmptyCollection()
        {
            // Arrange

            var mockProfilePaymentMethodRepository = GetDefaultIProfilePaymentMethodRepositoryInstance();
            var mockUnitOfWork = GetDefaultIUnitOfWorkInstance();
            var paymentMethodId = 1;

            mockProfilePaymentMethodRepository.Setup(r =&gt; r.ListByPaymentMethodIdAsync(paymentMethodId)).ReturnsAsync(new List&lt;ProfilePaymentMethod&gt;());

            var service = new ProfilePaymentMethodService(mockProfilePaymentMethodRepository.Object, mockUnitOfWork.Object);

            // Act

            List&lt;ProfilePaymentMethod&gt; result = (List&lt;ProfilePaymentMethod&gt;)await service.ListByPaymentMethodIdAsync(paymentMethodId);
            var profilePaymentMethodCount = result.Count;

            // Assert

            profilePaymentMethodCount.Should().Equals(0);
        }

        [Test]
        public async Task GetAllByProfileIdAsyncWhenNoProfilePaymentMethodReturnsEmptyCollection()
        {
            // Arrange

            var mockProfilePaymentMethodRepository = GetDefaultIProfilePaymentMethodRepositoryInstance();
            var mockUnitOfWork = GetDefaultIUnitOfWorkInstance();
            var profileId = 1;

            mockProfilePaymentMethodRepository.Setup(r =&gt; r.ListByProfileIdAsync(profileId)).ReturnsAsync(new List&lt;ProfilePaymentMethod&gt;());

            var service = new ProfilePaymentMethodService(mockProfilePaymentMethodRepository.Object, mockUnitOfWork.Object);

            // Act

            List&lt;ProfilePaymentMethod&gt; result = (List&lt;ProfilePaymentMethod&gt;)await service.ListByProfileIdAsync(profileId);
            var profilePaymentMethodCount = result.Count;

            // Assert

            profilePaymentMethodCount.Should().Equals(0);
        }


        private static Mock&lt;IProfilePaymentMethodRepository&gt; GetDefaultIProfilePaymentMethodRepositoryInstance()
        {
            return new Mock&lt;IProfilePaymentMethodRepository&gt;();
        }


        private static Mock&lt;IUnitOfWork&gt; GetDefaultIUnitOfWorkInstance()
        {
            return new Mock&lt;IUnitOfWork&gt;();
        }

    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[19,9,19,10,1],[20,9,20,10,1],[24,9,24,10,1],[27,13,27,106,1],[28,13,28,66,1],[30,13,30,121,1],[32,13,32,125,1],[36,13,36,103,1],[37,13,37,58,1],[41,13,41,58,1],[42,9,42,10,1],[46,9,46,10,1],[49,13,49,106,1],[50,13,50,66,1],[51,13,51,37,1],[53,13,53,153,1],[55,13,55,125,1],[59,13,59,135,1],[60,13,60,58,1],[64,13,64,58,1],[65,9,65,10,1],[69,9,69,10,1],[72,13,72,106,1],[73,13,73,66,1],[74,13,74,31,1],[76,13,76,141,1],[78,13,78,125,1],[82,13,82,123,1],[83,13,83,58,1],[87,13,87,58,1],[88,9,88,10,1],[92,9,92,10,1],[93,13,93,64,1],[94,9,94,10,1],[98,9,98,10,1],[99,13,99,44,1],[100,9,100,10,1]]);
    </script>
  </body>
</html>