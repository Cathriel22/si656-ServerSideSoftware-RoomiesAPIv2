<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\usuar\Downloads\RoomiesFinal\Roomies.API\Roomies.API\Extensions\ModelBuilderExtensions.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Metadata;

namespace Roomies.API.Extensions
{
    public static class ModelBuilderExtensions
    {

        public static void ApplySnakeCaseNamingConvention(this ModelBuilder builder)
        {
            foreach (var entity in builder.Model.GetEntityTypes())
            {
                entity.SetTableName(entity.GetTableName().ToSnakeCase());

                foreach (var property in entity.GetProperties())
                {
                    var tableIdentifier = StoreObjectIdentifier.Table(entity.GetTableName(), null);
                    property.SetColumnName(property.GetColumnName(tableIdentifier).ToSnakeCase());
                }

                foreach (var key in entity.GetKeys())
                    key.SetName(key.GetName().ToSnakeCase());

                foreach (var foreignKey in entity.GetForeignKeys())
                    foreignKey.SetConstraintName(foreignKey.GetConstraintName().ToSnakeCase());

                foreach (var index in entity.GetIndexes())
                    index.SetDatabaseName(index.GetDatabaseName().ToSnakeCase());

            }
        }
    }
}

    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,10,0],[12,13,12,20,0],[12,22,12,32,0],[12,33,12,35,0],[12,36,12,66,0],[13,13,13,14,0],[14,17,14,74,0],[16,17,16,24,0],[16,26,16,38,0],[16,39,16,41,0],[16,42,16,64,0],[17,17,17,18,0],[18,21,18,100,0],[19,21,19,99,0],[20,17,20,18,0],[22,17,22,24,0],[22,26,22,33,0],[22,34,22,36,0],[22,37,22,53,0],[23,21,23,62,0],[25,17,25,24,0],[25,26,25,40,0],[25,41,25,43,0],[25,44,25,67,0],[26,21,26,96,0],[28,17,28,24,0],[28,26,28,35,0],[28,36,28,38,0],[28,39,28,58,0],[29,21,29,82,0],[31,13,31,14,0],[32,9,32,10,0]]);
    </script>
  </body>
</html>